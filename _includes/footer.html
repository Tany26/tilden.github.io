

<script src="/scripts/jquery-3.3.1.slim.min.js"></script>
<script src="/scripts/glass-effect.jquery.js"></script>
<script src="/scripts/retina.min.js"></script>

<!-- "Waterfall" style nav (thanks Google) -->
<script type="text/javascript">
	var navBar = $('.nav');
	var upperNav = $('.nav-upper');
	var lowerNav = $('.nav-lower');
	var bannerImage = $('.nav .banner-image');
	var toolbarTitle = $('.nav a.logo span');
	var fullHeight = 192;
	var condensedHeight = 64;
	var heightDiff = fullHeight - condensedHeight;

	function adjustNavBar() {
		var scrollDistance = $(document).scrollTop();
    	var yRatio = Math.min(1, scrollDistance / heightDiff);

		navBar.css('height', (1 - yRatio) * heightDiff + condensedHeight);
		upperNav.css('padding-top', (1 - yRatio) * 20);
		bannerImage.css('opacity', 1 - yRatio);
		lowerNav.css('opacity', 1 - yRatio * 3);

		toolbarTitle.css('opacity', Math.pow(yRatio, 4));
	}

	$('document').ready(function() {
		adjustNavBar();
		setInterval(adjustNavBar, 10);
		
		offset = $('#project1').offset();
		offset.left += $('#color_hot_track1').width() / 2;
		offset.top += $('#color_hot_track1').height() / 2;
		$('#project1').mousemove(recordMousePosition);
		setInterval(doColorHotTrack, 100);
	});
</script>

<!-- Aero Glass Style Buttons (Thanks Windows 7) -->
<script type="text/javascript">
	// color hot track nonsense
	var mouseX;
	var mouseY = 20;
	var offsetX;

	function recalculateOffsets(e) {
		offsetX = $('#project1').offset().left;
	}

	function recordMousePosition(e) {
		mouseX = e.pageX - offsetX;
	}

	function doColorHotTrack() {
		$('#color_hot_track1').css('transform', 'translate3d(' + mouseX + 'px,' + mouseY + 'px, 0)');
	}

	$(window).resize(recalculateOffsets);

	$('document').ready(function() {
		offsetX = $('#project1').offset().left + $('#color_hot_track1').width() / 2;
		$('#project1').mousemove(recordMousePosition);
		setInterval(doColorHotTrack, 100);
	});

	//console.log("(" + mouseX + ", " + mouseY + ")");
	//console.log(offset.left);
</script>


<!-- Probably Outmoded Naive E-Mail Obfucation -->
<script type="text/javascript">
	$(document).ready(function () {
		var a = {'gmail': 'dan', 'com': 'tilden', '@': '.'};
		var b = "";
		b += a[Object.getOwnPropertyNames(a)[0]];
		b += a[Object.getOwnPropertyNames(a)[2]];
		b += a[Object.getOwnPropertyNames(a)[1]];
		b += Object.getOwnPropertyNames(a)[2];
		b += Object.getOwnPropertyNames(a)[0];
		b += a[Object.getOwnPropertyNames(a)[2]];
		b += Object.getOwnPropertyNames(a)[1];
		$('#email_link').attr('href', 'mailto:' + b);
  });
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-18252375-1', 'auto');
  ga('send', 'pageview');

</script>
